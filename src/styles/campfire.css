/* =========================
   CAMPFIRE – Night Scene
   PC版（作品の核）
========================= */

.campfire {
  position: relative;
  height: 100vh;
  overflow: hidden;

  background:
    url("../assets/images/campfire.png")
    center / cover no-repeat;

  /* 夜の深さ＆炎の締まり */
  filter:
    brightness(0.72)
    contrast(1.18)
    saturate(0.90);
}

/* =========================
   FIRE LIGHT – 揺らめく光
========================= */
.campfire::before {
  content: "";
  position: absolute;
  inset: 0;

  background:
    radial-gradient(
      circle at 46% 65%,
      rgba(255,150,60,0.22),
      rgba(0,0,0,0.82)
    );

  mix-blend-mode: screen;
  animation: campfireLight 7.6s ease-in-out infinite;
  pointer-events: none;
  z-index: 1;
}

@keyframes campfireLight {
  0%   { opacity: 0.10; filter: blur(14px); }
  45%  { opacity: 0.25; filter: blur(30px); }
  100% { opacity: 0.13; filter: blur(18px); }
}


/* =========================
   AUTO-SPARKS（漂う火花）
========================= */

.embers {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 3;
}

.spark{
  position:absolute;
  border-radius:50%;
  opacity:0;

  background:
    radial-gradient(
      circle,
      rgba(255,140,60,1) 0%,
      rgba(255,190,110,0.9) 35%,
      rgba(255,220,170,0.35) 55%,
      rgba(255,220,170,0.0) 80%
    );

  mix-blend-mode: screen;
  filter:
    blur(1.5px)
    drop-shadow(0 0 6px rgba(255,180,120,0.45))
    drop-shadow(0 0 14px rgba(255,140,60,0.25));

  transform-origin: center;
}


/* =========================
   COPY – PC版（空白含む詩的構図）
========================= */

.campfire-copy-wrap {
  position: relative;
  z-index: 4;

  /* PC特有の構図（左へ沈む） */
  transform: translate(-26vw, 15vh);

  opacity: 0;
  filter: blur(10px);

  transition:
    opacity 2.4s ease,
    filter 3.2s ease,
    transform 3s cubic-bezier(0.16, 0.6, 0.3, 1);
}

.campfire.is-visible .campfire-copy-wrap {
  opacity: 1;
  filter: blur(0);
  transform: translate(-26vw, 16vh) scale(1);
}

.campfire-copy {
  font-family: "Shippori Mincho B1", serif;
  font-size: clamp(2.2rem, 4vw, 3.6rem);
  letter-spacing: 0.16em;
  text-align: center;

  color: rgba(255, 235, 215, 0.9);
  text-shadow: 0 0 18px rgba(255,160,90,0.15);

  opacity: 0;
  transform: translateY(28px) scale(0.97);
  filter: blur(18px);

  transition:
    opacity 2.8s ease,
    transform 2.8s cubic-bezier(0.16, 0.6, 0.3, 1),
    filter 3.8s ease;
}

.campfire.is-visible .campfire-copy {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}
/* ============================================================
   CAMPFIRE – SP ONLY（完全独立 / PC非干渉）
   条件：幅768以下 ＋ タッチデバイスのみ
============================================================ */
@media (max-width: 768px) and (hover:none) and (pointer:coarse){

  /* ---- 背景 & 全体レイヤー ---- */
  .campfire{
    height: 100svh;
    filter:
      brightness(0.68)
      contrast(1.14)
      saturate(0.88);
    background-position: center 68%;
  }

  /* ---- 発光（SPでは弱め） ---- */
  .campfire::before{
    background:
      radial-gradient(
        circle at 50% 72%,
        rgba(255,150,60,0.16),
        rgba(0,0,0,0.88)
      );
    animation: campfireLightSP 9s ease-in-out infinite;
  }

  @keyframes campfireLightSP {
    0%   { opacity: 0.10; filter: blur(12px); }
    50%  { opacity: 0.20; filter: blur(22px); }
    100% { opacity: 0.12; filter: blur(14px); }
  }

  /* ---- 火花（密度抑え） ---- */
  .spark{
    filter:
      blur(1px)
      drop-shadow(0 0 4px rgba(255,180,120,0.32))
      drop-shadow(0 0 10px rgba(255,140,60,0.16));
  }

  /* ---- PCコピー → 完全に消す ---- */
  .pc-copy{
    display: none !important;
    opacity: 0 !important;
    transform: none !important;
    filter: none !important;
    pointer-events: none !important;
  }

  /* ---- SPコピー（唯一の主役） ---- */
  .campfire-copy-wrap-sp{
    position: relative;
    z-index: 4;

    /* 最適位置：下すぎず、光源に重ならず */
    transform: translate(0, 18vh);

    text-align: center;
    opacity: 0;
    filter: blur(10px);

    transition:
      opacity 2.4s ease,
      filter 3.2s ease,
      transform 3s cubic-bezier(0.16, 0.6, 0.3, 1);
  }

  .campfire.is-visible .campfire-copy-wrap-sp{
    opacity:1;
    filter:blur(0);
    transform:translate(0, 19vh);
  }

  /* ---- SPコピー本体 ---- */
  .campfire-copy-sp{
    font-family:"Shippori Mincho B1", serif;
    font-size: clamp(1.9rem, 7vw, 2.6rem);
    letter-spacing: 0.10em;
    line-height: 1.45;
    text-wrap: balance;
    max-width: 90%;
    margin: 0 auto;

    color: rgba(255,235,215,0.92);
    text-shadow: 0 0 18px rgba(255,160,90,0.15);
  }
}
