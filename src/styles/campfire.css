/* =========================
   CAMPFIRE â€“ Night Scene
   é‡åš / é™ã‘ã• / æ¸©åº¦
========================= */

.campfire {
  position: relative;
  height: 100vh;
  overflow: hidden;

  background:
    url("../assets/images/campfire.png")
    center / cover no-repeat;

  /* å¤œã®æ·±ã•ï¼†ç‚ã®ç· ã¾ã‚Š */
  filter:
    brightness(0.72)
    contrast(1.18)
    saturate(0.90);
}


/* =========================
   FIRE LIGHT â€“ Air wobble glow
   ï¼ˆç‚ã§å‘¨å›²ã®ç©ºæ°—ãŒæºã‚Œã‚‹å…‰ï¼‰
========================= */
.campfire::before {
  content: "";
  position: absolute;
  inset: 0;

  background:
    radial-gradient(
      circle at 46% 65%,         /* ä½ç½®ã‚’â€œç„šãç«ã®å°‘ã—å·¦å¯„ã‚Šâ€ã«æœ€é©åŒ– */
      rgba(255,150,60,0.22),
      rgba(0,0,0,0.82)
    );

  mix-blend-mode: screen;
  animation: campfireLight 7.6s ease-in-out infinite;

  pointer-events: none;
  z-index: 1;
}

@keyframes campfireLight {
  0%   { opacity: 0.10; filter: blur(14px); }
  45%  { opacity: 0.25; filter: blur(30px); }
  100% { opacity: 0.13; filter: blur(18px); }
}


/* =========================
   AUTO-SPARKSï¼ˆè‡ªç„¶ã«èˆã†ç«èŠ±ï¼‰
========================= */

.embers {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 3;
}

.spark{
  position:absolute;
  border-radius:50%;
  pointer-events:none;
  opacity:0;

  /* ğŸ”¥ å…‰ã®èŠ¯ï¼‹å¹»æƒ³ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ */
  background:
    radial-gradient(
      circle,
      rgba(255,140,60,1) 0%,     /* èŠ¯ï¼šèµ¤æ©™ */
      rgba(255,190,110,0.9) 35%, /* é‡‘ */
      rgba(255,220,170,0.35) 55%,
      rgba(255,220,170,0.0) 80%
    );

  /* å¹»æƒ³ã®éµ */
  mix-blend-mode: screen;
  filter:
    blur(1.5px)
    drop-shadow(0 0 6px rgba(255,180,120,0.45))
    drop-shadow(0 0 14px rgba(255,140,60,0.25));

  transform-origin: center;
}


/* =========================
   COPY â€“ ç„šç«ã®å…‰ã§æµ®ãæ–‡å­—
========================= */
/* =========================
   WRAP â€“ ä½ç½®ã”ã¨æµ®ã‹ã³ä¸ŠãŒã‚‹ï¼ˆè–„ã„ãƒ•ã‚§ãƒ¼ãƒ‰ï¼‰
========================= */

.campfire-copy-wrap {
  position: relative;
  z-index: 4;

  /* ä½ç½®ï¼ˆè‡ªç”±ã«èª¿æ•´OKï¼‰ */
  transform: translate(-26vw, 15vh);

  /* ç™»å ´å‰ */
  opacity: 0;
  filter: blur(10px);
  transform-origin: center;

  transition:
    opacity 2.4s ease,
    filter 3.2s ease,
    transform 3s cubic-bezier(0.16, 0.6, 0.3, 1);
}

/* è¡¨ç¤ºï¼ˆç„šç«ã«ç…§ã‚‰ã•ã‚Œã‚‹ã‚ˆã†ã«ï¼‰ */
.campfire.is-visible .campfire-copy-wrap {
  opacity: 1;
  filter: blur(0);
  transform: translate(-26vw, 16vh) scale(1);
}



/* =========================
   COPY â€“ æœ¬æ–‡ã® â€œæµ®ãä¸ŠãŒã‚Šâ€
========================= */

.campfire-copy {
  font-family: "Shippori Mincho B1", serif;
  font-size: clamp(2.2rem, 4vw, 3.6rem);
  letter-spacing: 0.16em;
  text-align: center;

  color: rgba(255, 235, 215, 0.9);
  text-shadow: 0 0 18px rgba(255, 160, 90, 0.15);

  /* ç™»å ´å‰ï¼ˆé—‡ã®åº•ï¼‰ */
  opacity: 0;
  transform: translateY(28px) scale(0.97);
  filter: blur(18px);

  transition:
    opacity 2.8s ease,
    transform 2.8s cubic-bezier(0.16, 0.6, 0.3, 1),
    filter 3.8s ease;
}

/* è¡¨ç¤ºï¼šç„šç«ã®ç¯ã‚Šã§æ–‡å­—ãŒæµ®ã‹ã¶ */
.campfire.is-visible .campfire-copy {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

/* =======================================
   CAMPFIRE â€“ SP ONLY
   ãƒ”ãƒ¼ã‚¯ã‚’å£Šã•ãšæˆç«‹ã•ã›ã‚‹
   PCå®Œå…¨éå¹²æ¸‰
======================================= */
@media (max-width: 900px){

  .campfire{
    height: 100svh; /* iOSå¯¾å¿œ */
    filter:
      brightness(0.68)
      contrast(1.14)
      saturate(0.88);
  }

  /* ç‚ã®å…‰ï¼šå¼·åº¦ã¨ç¯„å›²ã‚’SPå‘ã‘ã« */
  .campfire::before{
    background:
      radial-gradient(
        circle at 50% 68%,
        rgba(255,150,60,0.18),
        rgba(0,0,0,0.88)
      );
    animation: campfireLightSP 9s ease-in-out infinite;
  }

  @keyframes campfireLightSP {
    0%   { opacity: 0.10; filter: blur(12px); }
    50%  { opacity: 0.22; filter: blur(22px); }
    100% { opacity: 0.12; filter: blur(14px); }
  }

  /* ç«èŠ±ï¼šæ•°ã¨å­˜åœ¨æ„Ÿã‚’æŠ‘ãˆã‚‹ */
  .spark{
    filter:
      blur(1px)
      drop-shadow(0 0 4px rgba(255,180,120,0.35))
      drop-shadow(0 0 10px rgba(255,140,60,0.18));
  }

  /* ã‚³ãƒ”ãƒ¼ä½ç½®ï¼šä¸­å¤®ã¸ */
  .campfire-copy-wrap{
    transform: translate(0, 12vh);
    text-align: center;
  }

  .campfire.is-visible .campfire-copy-wrap{
    transform: translate(0, 13vh) scale(1);
  }

  /* ã‚³ãƒ”ãƒ¼æœ¬ä½“ï¼šSPç”¨æ–‡å­—å¯†åº¦ */
  .campfire-copy{
    font-size: clamp(1.9rem, 7vw, 2.6rem);
    letter-spacing: 0.10em;
    line-height: 1.45;
    max-width: 90%;
    margin: 0 auto;

    text-wrap: balance;
  }
}
